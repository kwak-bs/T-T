# PHP 문법

- XML 스타일
  - `<?php echo 'Hello'; ?>`
  - 항상 지원되는 방식. 일반적으로 권장되는 스타일.
- 짧은 스타일
  - `<? echo 'Hello'; ?`
  - 기본적으로 지원하지 않는 환경이 많음.
- 스크립트 스타일 
  - `<script language='php'> echo 'Hello' </script>`
  - Javascript, VBScript 스타일로 HTML 편집기에서 다른 태그 스타일을 사용할 수 없을 경우에 사요한다. 
- ASP 스타일 
  - `<% echo 'Hello'; %`
  - ASP나 ASP.NET 스타일로 config 파일에서 asp_tags를 활성화하면 사용할 수 있다. 
  - ASP 편집기를 쓰는 것이 아닌 이상 굳이 사용할 필요는 없다. 


> 만약 php의 변수 하나만 출력하고 싶다면 아래와 같이 사용할 수도 있다. 
>
> `<?=$var?>`
>
> 여기서 $var은 php의 변수라고 생각하면 된다.



### echo와 주석처리 

> echo는 c언어의 printf처럼 문자열을 출력하는 역할을 한다. 

```php
/* 이 부분은 주석입니다. 
여러 줄을 주석처리 할 수 있습니다. */
echo '<p>Hello World!</p>'; // ''방식
echo "<p>Hello World!</p>"; // ""방식
echo '<p>Hello '.'World</p>' // 문자열 연결
```

위와 같이 ' ' 또는 " "로 감싸주면 된다. "로 감싸는 경우 "내부에 있는 문자열을 그대로 출력하며, ""로 감싸는 경우 "" 내부에서 php 변수를 사용할 수 있다.



```html
모든 php문은 마지막에 ;을 찍어 문장의 끝을 나타낸다. 
주석은 위 코드에서 보듯이 여러 줄인 /*와 */로 감싸면 되고, 한 줄인 경우 간단히 //로 처리할 수 있다. 
서로 다른 문자열(또는 문자열과 변수)을 연결할 필요가 있는 경우 연산자 .을 이용하여 결합하면 된다. 
```



그리고 자주 사용하진 않지만 echo에 엔터키를 포함하여 입력하고 싶은 경우 아래와 같이 사용할 수도 있다. 
(PHP 4에서 추가됨)

```php
echo <<< theEnd
line1
line2
line3
theENd
```

**theEnd**는 임의로 지정할 수 있다.  위와 같이 입력하게 되면 **theEnd**라는 문자를 만날 때가지 엔터키를 포함한 문자열을 입력할 수 있다. 

```
만약 문자열 내에서 따옴표를 사용하고 싶으면 두 가지 방법이 있다. 
	1. 서로 다른 따옴표를 쓰는 방법 : 작은 따옴표를 쓰고 싶다면 큰 따옴표로 감싸고 큰 따옴표를 쓰고 싶으면 작은 따옴표로 감싼다.
	2. 이스케이프 시키는 방법 : 따옴표 앞에 역슬래시(\)를 추가하여 이스케이핑시켜 사용한다. 
```





### PHP 변수

> 정수형
>
> 실수형
>
> 문자열
>
> Boolean
>
> 배열
>
> 객체
>
> Null
>
> resource - 외부 자원(특히 DB 연결)

php에서 변수는 $기호로 시작하게 된다. 따로 자료형을 선언할 필요는 없으며 그냥 변수를 선언하거나 선언과 동시에 초기화 해주면 알아서 적절한 자료형이 결정된다. 

1. php는 형 강도가 매우 약한 언어이다. 
2. 형 변환은 C언어 처럼 $a=(double)$b;와 같은 형태로 사용한다.
3. 가변 변수 : 변수의 이름을 새로운 변수에 저장할 수 있으며, $$을 통해서 그 값에 접근, 제어할 수 있다. 

```php
$a = 0;
$var = 'a'; // $a는 $$var로 사용할 수 있게 된다. 
$$var = 5; // $a = 5와 같다.
echo $a; // 5
/* $var의 값은 문자 a가 된다. 
그렇다면 $$var는 ?? 
신기하게도 php에서는 $$var를 $a로 인식할 수 있게된다. */
```

4. 상수

```php
define('PI', 3.14); // 상수의 정의 
echo PI // 상수는 $를 붙일 필요가 없다. 
```



### 변수의 범위

>**슈퍼글로벌 변수** - 스크립트 전역(함수 내외부)
>
>**상수** - 스크립트 전역
>
>**전역 변수** - 함수 외부 
>
>**지역 변수**(함수 안에서 정의된 변수) - 함수 내부
>
>**함수 안에서 전역으로 정의된 변수** - 함수 내부(단, 값이 유지되어 다음에 사용할 수 있음)



**슈퍼글로벌 변수 리스트**

```php
$GLOBALS			// gloabl 키워드 처럼 함수 안에서 글로벌 변수에 접근 가능 
  					// $GLOBALS['val']
$_SERVER 			// 서버 환경 변수의 배열

$_GET, $_POST 		// 폼에서 get 또는 post 메소드로 전달된 값의 배열
$_COOKIE, $_SESSION // 쿠키와 세션 변수의 배열 
$_FILES				// 파일 업로드와 관련된 변수의 배열 
$_REQUEST 			// 사용자가 입력한 변수의 배열 
    				// $_GET, $_POST, $_COOKIE를 포함
    
$_ENV 				// 환경 변수의 배열 
```

